# Particle Playground
## by Karl Lilje

A high-performance WebGL-based particle physics simulator that demonstrates various physical phenomena through interactive visualizations.

This is based on a lifetime of research and study, especially into gravity and why it works the way it does.

## Overview

Particle Playground simulates tens of thousands of particles in real-time, with collision detection, dynamic shapes, and sensor observations. Built with WebGL 2.0 for maximum performance, it can handle up to 100,000+ particles at 60 FPS.

## Features

- **High-Performance Rendering**: WebGL 2.0-based renderer with velocity-based particle coloring
- **Spatial Hash Collision Detection**: Optimized O(n) collision detection for massive particle counts
- **Dynamic Shapes**: Support for rectangles and circles, both static and moveable
- **Rotating Objects**: Shapes can rotate and transfer momentum to particles
- **Sensor System**: Observe and visualize particle interactions in real-time
- **Multiple Presets**: Pre-configured simulations demonstrating various physics concepts

## Physics Simulations

### 1. Entropy
Demonstrates that entropy (randomness) is the stable state of the universe. Particles naturally tend toward disorder.

### 2. Quantum Condensation
Simulates a quantum condensation process where particles condense into a stable state with low damping.

### 3. Flame Simulation
Shows that fire is hollow - particles concentrate at the outer edges forming a hollow center.

### 4. Double Slit Experiment
One packet of particles creates two beams of light with multiple observable interference points, demonstrating wave-particle duality.

### 5. Maze Challenge
Particles navigate through a maze of obstacles, demonstrating emergent behavior.

### 6. Cloud Chamber
Simulates a cloud chamber where individual particles are emitted and can be observed, showing quantum measurement effects.

### 7. Magnetic Fields
Particles interact with magnetic field lines represented by rectangular barriers.

### 8. Photon Generation
A photon (electromagnetic wave) is generated by a spinning asymmetric object. The faster the rotation, the higher the frequency of emitted particles.

### 9. Gravity
**Karl Lilje's Gravity Theory (2016)**: "Any two objects have relatively fewer particles between them due to occlusion, causing gravitational attraction. The more particles, the stronger the gravity. P = n k T"

This simulation demonstrates gravity as an emergent phenomenon where particles create pressure differences around massive objects, pushing them together.

### 10. Gravity 3
Three-body gravity simulation showing complex orbital mechanics and gravitational interactions.

## Controls

- **Particle Count**: Adjust the number of simulated particles (100 - 100,000)
- **Speed**: Control simulation speed (0.1x - 10x)
- **Damping**: Adjust energy loss during collisions (0.0 - 1.0)
- **Particle Size**: Change visual particle size (0.5 - 10.0)
- **Pause/Resume**: Freeze or resume the simulation
- **Reset**: Reinitialize particles with current settings
- **Preset Selection**: Load pre-configured simulations

## Technical Details

### Architecture

- **renderer.js**: WebGL 2.0 rendering engine with custom shaders
- **simulation.js**: Physics engine with spatial hashing and collision detection
- **main.js**: Application coordinator and animation loop
- **ui.js**: User interface controller
- **presetLoader.js**: JSON preset management

### Performance Optimizations

1. **Spatial Hashing**: Particles are organized into grid cells for O(n) collision detection instead of O(n²)
2. **Float32Arrays**: Use of typed arrays for memory efficiency
3. **WebGL Instancing**: GPU-accelerated particle rendering
4. **Adaptive Cell Sizing**: Dynamic grid optimization based on particle density

### Shape Physics

#### Moveable Circles
Circles can have physics properties:
- `moveable`: Enable physics simulation
- `mass`: Affects momentum transfer (default: based on radius)
- `vx`, `vy`: Velocity components
- `color`: Hex color code for rendering

Particles transfer momentum to moveable circles on collision, creating emergent gravitational-like behavior.

#### Rotating Rectangles
Rectangles can rotate and transfer angular momentum to particles:
- `rotating`: Enable rotation
- `rotationSpeed`: Angular velocity in radians/second
- `angle`: Current rotation angle

## Browser Requirements

- Modern browser with WebGL 2.0 support
- Recommended: Chrome, Firefox, Edge (latest versions)
- Minimum: 4GB RAM, dedicated GPU for 50,000+ particles

## Getting Started

1. Open `index.html` in a WebGL 2.0 compatible browser
2. Select a preset from the sidebar
3. Adjust parameters using the control sliders
4. Observe the physics in action!

## Customization

### Creating Custom Presets

Edit `presets.json` to add new simulations:

```json
{
    "name": "My Simulation",
    "description": "Description of the physics",
    "particles": 50000,
    "initType": "random",
    "speed": 1.0,
    "damping": 0.95,
    "particleSize": 2.0,
    "shapes": [
        {
            "type": "circle",
            "x": 500,
            "y": 400,
            "radius": 100,
            "moveable": true,
            "mass": 1000,
            "color": "#ff0000"
        }
    ]
}
```

### Shape Types

**Rectangle:**
```json
{
    "type": "rect",
    "x": 100,
    "y": 200,
    "width": 300,
    "height": 50,
    "rotating": false,
    "rotationSpeed": 0.0
}
```

**Circle:**
```json
{
    "type": "circle",
    "x": 500,
    "y": 400,
    "radius": 100,
    "moveable": true,
    "mass": 1000,
    "vx": 0,
    "vy": 0,
    "color": "#4080ff"
}
```

### Initialization Types

- `"center"`: Spawn particles in a circular area at screen center
- `"left"`: Spawn particles in a vertical strip on the left side
- `"random"`: Spawn particles randomly across the entire screen

## Theory: Particle Pressure Gravity

The gravity simulations are based on Karl Lilje's 2016 theory that gravity is an emergent phenomenon caused by particle pressure differences. Key concepts:

1. **Occlusion Effect**: Massive objects block particles, creating fewer particles between them
2. **Pressure Differential**: More particles push from outside than between objects
3. **Net Force**: Objects are pushed together by the pressure imbalance
4. **Equation**: P = n k T (Pressure = particle density × Boltzmann constant × Temperature)

This explains why objects attract without requiring a separate gravitational force - it's purely statistical mechanics!

## License

MIT License - Feel free to use and modify for educational purposes.

## Credits

- Gravity Theory: Karl Lilje (2016)
- Implementation: WebGL particle simulator
- Physics Engine: Custom spatial-hash collision detection

---

*Explore the fundamental nature of reality through particle physics!*
